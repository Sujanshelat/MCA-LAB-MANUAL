INCLUDE "M32DEF.INC"

LDI Rl6,HIGH(RAMEND)
OUT SPH, Rl6
LDI Rl6, LOW (RAMEND)
OUT SPL, Rl6 
SBI DDRB,7
CBI DDRA,0 
CBI DDRA,1
SBI PORTA, 0
SBI PORTA, 1 
CBI PORTB, 7


CHK: SBIC PINA, 0
RJMP PSO
SBI PORTB, 0 
CALL DELAY
CALL DELAY
CBI PORTB, 7
CALL DELAY
CALL DELAY
CALL DELAY
RJMP CHK

PSO: SBIC PINA, 1
RJMP CHK
SBI PORTB,7
CALL DELAY
CALL DELAY
CALL DELAY
CALL DELAY
CBI PORTB, 0
CALL DELAY
RJMP CHK

DELAY:
    LDI R24,8
L1: LDI R25,200
L2: LDI R26,250
L3: NOP
	NOP
	DEC R26
	BRNE L3
	DEC R25
	BRNE L2
	DEC R24
	BRNE L1
	RET    
